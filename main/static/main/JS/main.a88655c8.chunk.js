(this.webpackJsonpbowl38_react=this.webpackJsonpbowl38_react||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(1),a=n.n(r),c=n(18),i=n.n(c),o=(n(44),n(45),n(46),function(){return Object(s.jsx)("footer",{className:"footer",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"block_footer",children:Object(s.jsx)("div",{className:"footer_title",children:Object(s.jsx)("p",{children:'\xa9 2020, \u041c\u0421\u041e\u041e "\u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044f \u0431\u043e\u0443\u043b\u0438\u043d\u0433\u0430 \u0433.\u0411\u0440\u0430\u0442\u0441\u043a\u0430"'})})})})})}),u=n(4),d=n(2),m=n(7),l=n(8),j=n(10),h=n(9),p=(n(47),n(48),function(e){var t={__html:e.news.description};return Object(s.jsx)("div",{className:"block_news",children:Object(s.jsx)("div",{className:"news",children:Object(s.jsxs)("div",{className:"news_content",children:[Object(s.jsx)("p",{dangerouslySetInnerHTML:t}),e.news.img.map((function(e,t){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"news_img",children:Object(s.jsx)("a",{href:e.img,target:"_blank",children:Object(s.jsx)("img",{src:e.img,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0441 \u0442\u0443\u0440\u043d\u0438\u0440\u0430"})})},t)})})),Object(s.jsx)("a",{target:"_blank",href:e.news.link,children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"})]})})})}),b=(n(49),n(50),n.p+"static/media/pre_loader.fbd30edc.svg"),f=n.p+"static/media/button_pre_loader.0f7f8322.svg",g=function(){return Object(s.jsx)("section",{className:"section_pre_loader",children:Object(s.jsx)("div",{className:"pre_loader",children:Object(s.jsx)("img",{src:b,alt:"pre_loader"})})})},O=function(){return Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:f,alt:"button_pre_loader"})})},y=function(e){var t=e.IsFetching||!e.message,n=e.showButtons||e.addCommentIsFetching;return Object(s.jsxs)("div",{className:"add_comment",children:[Object(s.jsx)("div",{className:"form_img",children:Object(s.jsx)("p",{children:"\u041c"})}),Object(s.jsxs)("div",{className:"form",children:[Object(s.jsx)("div",{className:"message_input",children:Object(s.jsx)("input",{onFocus:e.onShowButtons,onChange:function(t){return e.onChangeMessage(t.target.value)},value:e.message,type:"text",placeholder:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",required:!0})}),n&&Object(s.jsxs)("div",{className:"add_comment_button",children:[Object(s.jsx)("p",{onClick:e.onHideButtons,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),e.addCommentIsFetching?Object(s.jsx)(O,{}):Object(s.jsx)("input",{onClick:function(){return e.onAddComment(e.newsId,e.message)},disabled:t,type:"submit",value:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})]})]})]})},x=n(5),_=n(6),v=n(37);function C(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?unescape(t[2]):null}var F=n.n(v).a.create({baseURL:"http://bowl38.ru/api/1.0/",withCredentials:!0}),w=function(e){return F.get("news/".concat(e,"/")).then((function(e){return e.data}))},N=function(e,t){var n=new FormData;return n.append("id",e),n.append("text",t),F.post("news/comment/",n,{headers:{"Content-Type":"multipart/form-data","X-CSRFToken":C("csrftoken")}}).then((function(e){return e.data}))},I=function(e,t){var n=new FormData;return n.append("id",e),n.append("text",t),F.put("news/comment/",n,{headers:{"Content-Type":"multipart/form-data","X-CSRFToken":C("csrftoken")}}).then((function(e){return e.data}))},T=function(e){return F.delete("news/comment/",{headers:{"Content-Type":"multipart/form-data","X-CSRFToken":C("csrftoken")},params:{id:e}}).then((function(e){return e.data}))},R=function(e,t,n){var s=new FormData;return s.append("id",e),s.append("text",t),s.append("name_reply",n),F.post("news/reply/",s,{headers:{"Content-Type":"multipart/form-data","X-CSRFToken":C("csrftoken")}}).then((function(e){return e.data}))},k=function(e,t){var n=new FormData;return n.append("id",e),n.append("text",t),F.put("news/reply/",n,{headers:{"Content-Type":"multipart/form-data","X-CSRFToken":C("csrftoken")}}).then((function(e){return e.data}))},S=function(e){return F.delete("news/reply/",{headers:{"X-CSRFToken":C("csrftoken")},params:{id:e}})},M=function(e){return F.get("tournament/".concat(e,"/")).then((function(e){return e.data}))},E=function(e,t){var n=new FormData;return n.append("id",e),n.append("group",t),F.post("online_registrations/",n,{headers:{"Content-Type":"multipart/form-data","X-CSRFToken":C("csrftoken")}}).then((function(e){return e.data}))},A=function(e){return F.delete("online_registrations",{headers:{"Content-Type":"multipart/form-data","X-CSRFToken":C("csrftoken")},params:{id:e}}).then((function(e){return e.data}))},D=function(e,t){var n=new FormData;return n.append("id",e),n.append("text",t),F.post("tournament/comment/",n,{headers:{"Content-Type":"multipart/form-data","X-CSRFToken":C("csrftoken")}}).then((function(e){return e.data}))},B=function(e,t){var n=new FormData;return n.append("id",e),n.append("text",t),F.put("tournament/comment/",n,{headers:{"Content-Type":"multipart/form-data","X-CSRFToken":C("csrftoken")}}).then((function(e){return e.data}))},H=function(e){return F.delete("tournament/comment/",{headers:{"Content-Type":"multipart/form-data","X-CSRFToken":C("csrftoken")},params:{id:e}}).then((function(e){return e.data}))},G=function(e,t,n){var s=new FormData;return s.append("id",e),s.append("text",t),s.append("name_reply",n),F.post("tournament/reply/",s,{headers:{"Content-Type":"multipart/form-data","X-CSRFToken":C("csrftoken")}}).then((function(e){return e.data}))},L=function(e,t){var n=new FormData;return n.append("id",e),n.append("text",t),F.put("tournament/reply/",n,{headers:{"Content-Type":"multipart/form-data","X-CSRFToken":C("csrftoken")}}).then((function(e){return e.data}))},P=function(e){return F.delete("tournament/reply/",{headers:{"X-CSRFToken":C("csrftoken")},params:{id:e}})},X="SET_NEWS_PAGE",q="TOGGLE_LOADING",W="START_IS_FETCHING",J="END_IS_FETCHING",U="START_ADD_COMMENT_IS_FETCHING",V="END_ADD_COMMENT_IS_FETCHING",$="SHOW_FORM",z="HIDE_FORM",K="ON_CHANGE_MESSAGE",Q={username:"",isStaff:!1,news:null,comments:[],reply_name:"",message:"",formType:"",id:null,isLoading:!1,IsFetching:!1,addCommentIsFetching:!1},Y=function(e){return{type:X,data:e}},Z=function(){return{type:q}},ee=function(){return{type:W}},te=function(){return{type:J}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!e.isLoading});case W:return Object(d.a)(Object(d.a)({},e),{},{IsFetching:!0});case J:return Object(d.a)(Object(d.a)({},e),{},{IsFetching:!1,message:"",formType:"",id:null});case U:return Object(d.a)(Object(d.a)({},e),{},{addCommentIsFetching:!0});case V:return Object(d.a)(Object(d.a)({},e),{},{addCommentIsFetching:!1});case X:return Object(d.a)(Object(d.a)({},e),{},{news:t.data.news,comments:t.data.comments,username:t.data.user,isStaff:t.data.isStaff});case $:return Object(d.a)(Object(d.a)({},e),{},{formType:t.formType,id:t.id,message:t.message,reply_name:t.reply_name?"@".concat(t.reply_name,","):""});case z:return Object(d.a)(Object(d.a)({},e),{},{formType:"",id:null,message:"",reply_name:""});case K:return Object(d.a)(Object(d.a)({},e),{},{message:e.reply_name?t.message.replace(e.reply_name,"").trimStart():t.message});default:return e}},se=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(m.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={showButtons:!1,message:""},e.onAddComment=function(t,n){e.props.addComment(t,n),e.setState({showButtons:!1,message:""})},e.onChangeMessage=function(t){e.setState({message:t})},e.onShowButtons=function(){e.setState({showButtons:!0})},e.onHideButtons=function(){e.setState({showButtons:!1,message:""})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)(y,Object(d.a)(Object(d.a)({onShowButtons:this.onShowButtons,onChangeMessage:this.onChangeMessage,showButtons:this.state.showButtons,message:this.state.message,onHideButtons:this.onHideButtons},this.props),{},{onAddComment:this.onAddComment}))}}]),n}(a.a.Component),re={addComment:function(e,t){return function(n){n({type:U}),N(e,t).then((function(t){200===t.status&&w(e).then((function(e){n(Y(e)),n({type:V})}))}))}}},ae=Object(x.d)(Object(_.b)((function(e){return{addCommentIsFetching:e.news.addCommentIsFetching}}),re))(se),ce=n(20),ie=(n(72),n(73),function(e){return Object(s.jsxs)("div",{className:"add_reply",children:[Object(s.jsx)("div",{className:"form_img",children:Object(s.jsx)("p",{children:e.letter})}),Object(s.jsxs)("div",{className:"form",children:[Object(s.jsx)("div",{className:"message_input",children:Object(s.jsx)("input",{onChange:function(t){return e.onChangeMessage(t.target.value)},value:e.message,autoComplete:"off",required:!0,type:"text",placeholder:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043e\u0442\u0432\u0435\u0442"})}),Object(s.jsxs)("div",{className:"add_comment_button",children:[Object(s.jsx)("p",{onClick:e.hideForm,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),e.isFetching?Object(s.jsx)(O,{}):Object(s.jsx)("input",{onClick:function(){return e.addReply(e.commentId,e.message,e.newsId),void e.onToggleReply(e.commentId)},disabled:!e.message,type:"submit",value:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"})]})]})]})}),oe=(n(74),function(e){return Object(s.jsxs)("div",{className:"edit_comment",children:[Object(s.jsx)("div",{className:"form_img",children:Object(s.jsx)("p",{children:e.letter})}),Object(s.jsxs)("div",{className:"form",children:[Object(s.jsx)("div",{className:"message_input",children:Object(s.jsx)("input",{onChange:function(t){return e.onChangeMessage(t.target.value)},value:e.message,autoComplete:"off",required:!0,type:"text",placeholder:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})}),Object(s.jsxs)("div",{className:"edit_comment_buttons",children:[Object(s.jsx)("p",{onClick:e.hideForm,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),e.isFetching?Object(s.jsx)(O,{}):Object(s.jsx)("input",{onClick:function(){return e.updateComment(e.commentId,e.newsId,e.message)},disabled:!e.message,type:"submit",value:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]})]})}),ue=(n(75),function(e){return Object(s.jsxs)("div",{className:"delete_comment",children:[Object(s.jsx)("div",{className:"form_img",children:Object(s.jsx)("p",{children:e.letter})}),Object(s.jsxs)("div",{className:"form",children:[Object(s.jsx)("div",{className:"message_input",children:Object(s.jsx)("input",{autoComplete:"off",required:!0,type:"text",defaultValue:e.message})}),Object(s.jsxs)("div",{className:"delete_comment_buttons",children:[Object(s.jsx)("p",{onClick:e.hideForm,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),e.isFetching?Object(s.jsx)(O,{}):Object(s.jsx)("input",{onClick:function(){return e.deleteComment(e.commentId,e.newsId)},disabled:e.isFetching,type:"submit",value:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})]})}),de=(n(76),n(77),function(e){return Object(s.jsxs)("div",{className:"add",children:[Object(s.jsx)("div",{className:"form_img",children:Object(s.jsx)("p",{children:e.letter})}),Object(s.jsxs)("div",{className:"form",children:[Object(s.jsx)("div",{className:"message_input",children:Object(s.jsx)("input",{onChange:function(t){return e.onChangeMessage(t.target.value)},value:"".concat(e.reply_name," ").concat(e.message),autoComplete:"off",required:!0,type:"text",placeholder:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043e\u0442\u0432\u0435\u0442"})}),Object(s.jsxs)("div",{className:"add_button",children:[Object(s.jsx)("p",{onClick:e.hideForm,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),e.isFetching?Object(s.jsx)(O,{}):Object(s.jsx)("input",{onClick:function(){return e.addReply(e.comment_id,e.message,e.newsId,e.reply_name)},disabled:!e.message,type:"submit",value:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"})]})]})]})}),me=(n(78),function(e){return Object(s.jsxs)("div",{className:"edit",children:[Object(s.jsx)("div",{className:"form_img",children:Object(s.jsx)("p",{children:e.letter})}),Object(s.jsxs)("div",{className:"form",children:[Object(s.jsx)("div",{className:"message_input",children:Object(s.jsx)("input",{onChange:function(t){return e.onChangeMessage(t.target.value)},value:e.message,autoComplete:"off",required:!0,type:"text",placeholder:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})}),Object(s.jsxs)("div",{className:"edit_buttons",children:[Object(s.jsx)("p",{onClick:e.hideForm,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),e.isFetching?Object(s.jsx)(O,{}):Object(s.jsx)("input",{onClick:function(){return e.updateReply(e.reply_id,e.message,e.newsId)},disabled:!e.message,type:"submit",value:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]})]})}),le=(n(79),function(e){return Object(s.jsxs)("div",{className:"delete",children:[Object(s.jsx)("div",{className:"form_img",children:Object(s.jsx)("p",{children:e.letter})}),Object(s.jsxs)("div",{className:"form",children:[Object(s.jsx)("div",{className:"message_input",children:Object(s.jsx)("input",{autoComplete:"off",required:!0,type:"text",defaultValue:e.message})}),Object(s.jsxs)("div",{className:"delete_buttons",children:[Object(s.jsx)("p",{onClick:e.hideForm,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),e.isFetching?Object(s.jsx)(O,{}):Object(s.jsx)("input",{onClick:function(){return e.deleteReply(e.reply_id,e.newsId)},disabled:e.isFetching,type:"submit",value:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})]})}),je=function(e){var t=e.user===e.reply.username||e.isStaff,n="reply_reply"===e.formType&&e.id===e.reply.id,r="edit_reply"===e.formType&&e.id===e.reply.id,a="delete_reply"===e.formType&&e.id===e.reply.id;return Object(s.jsxs)("div",{className:"reply",children:[Object(s.jsx)("div",{className:"reply_img",children:Object(s.jsx)("p",{children:e.reply.username[0]})}),Object(s.jsxs)("div",{className:"reply_content",children:[Object(s.jsxs)("div",{className:"reply_title",children:[Object(s.jsx)("div",{className:"reply_name",children:e.reply.username}),Object(s.jsx)("div",{className:"reply_date",children:e.reply.date})]}),Object(s.jsxs)("div",{className:"reply_text",children:[e.reply.name_reply&&Object(s.jsxs)("span",{children:[e.reply.name_reply," "]}),e.reply.text]}),Object(s.jsxs)("div",{className:"reply_buttons",children:[e.user&&Object(s.jsx)("h4",{onClick:function(){return e.showForm("reply_reply",e.reply.id,"",e.reply.username)},children:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"}),t&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{onClick:function(){return e.showForm("edit_reply",e.reply.id,e.reply.text)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(s.jsx)("p",{onClick:function(){return e.showForm("delete_reply",e.reply.id,e.reply.text)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]}),n&&Object(s.jsx)(de,{letter:e.user[0],reply_name:e.reply_name,message:e.message,onChangeMessage:e.onChangeMessage,hideForm:e.hideForm,addReply:e.addReply,newsId:e.newsId,isFetching:e.isFetching,comment_id:e.comment_id}),r&&Object(s.jsx)(me,{letter:e.user[0],message:e.message,onChangeMessage:e.onChangeMessage,hideForm:e.hideForm,updateReply:e.updateReply,newsId:e.newsId,reply_id:e.reply.id,isFetching:e.isFetching}),a&&Object(s.jsx)(le,{letter:e.user[0],message:e.message,hideForm:e.hideForm,deleteReply:e.deleteReply,newsId:e.newsId,reply_id:e.reply.id,isFetching:e.isFetching})]})]})},he=function(e){var t=e.user===e.comment.username||e.isStaff,n="add_reply"===e.formType&&e.id==e.comment.id,r="edit_comment"===e.formType&&e.id==e.comment.id,a="delete_comment"===e.formType&&e.id==e.comment.id;return Object(s.jsxs)("div",{className:"comment",children:[Object(s.jsx)("div",{className:"comment_img",children:Object(s.jsx)("p",{className:"comment_letter",children:e.comment.username[0]})}),Object(s.jsxs)("div",{className:"comment_content",children:[Object(s.jsxs)("div",{className:"comment_title",children:[Object(s.jsx)("div",{className:"comment_name",children:e.comment.username}),Object(s.jsx)("div",{className:"comment_date",children:e.comment.date})]}),Object(s.jsx)("p",{className:"comment_text",children:e.comment.text}),Object(s.jsxs)("div",{className:"comment_buttons",children:[e.user&&Object(s.jsx)("h4",{onClick:function(){return e.showForm("add_reply",e.comment.id)},children:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"}),t&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{onClick:function(){return e.showForm("edit_comment",e.comment.id,e.comment.text)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(s.jsx)("p",{onClick:function(){return e.showForm("delete_comment",e.comment.id,e.comment.text)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]}),e.comment.replyComments.length>0&&Object(s.jsx)("div",{className:"show_reply",onClick:function(){return e.onToggleReply(e.comment.id)},children:e.showReply.some((function(t){return t===e.comment.id}))?"\u0421\u043a\u0440\u044b\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u044b":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u044b"}),n&&Object(s.jsx)(ie,{letter:e.user[0],message:e.message,onChangeMessage:e.onChangeMessage,hideForm:e.hideForm,addReply:e.addReply,isFetching:e.isFetching,commentId:e.comment.id,newsId:e.newsId,onToggleReply:e.onToggleReply}),r&&Object(s.jsx)(oe,{letter:e.user[0],message:e.message,onChangeMessage:e.onChangeMessage,hideForm:e.hideForm,isFetching:e.isFetching,commentId:e.comment.id,newsId:e.newsId,updateComment:e.updateComment}),a&&Object(s.jsx)(ue,{letter:e.user[0],message:e.message,hideForm:e.hideForm,deleteComment:e.deleteComment,isFetching:e.isFetching,commentId:e.comment.id,newsId:e.newsId}),e.showReply.some((function(t){return t==e.comment.id}))&&e.comment.replyComments.map((function(t,n){return Object(s.jsx)(je,{reply:t,user:e.user,isStaff:e.isStaff,id:e.id,showForm:e.showForm,message:e.message,onChangeMessage:e.onChangeMessage,hideForm:e.hideForm,reply_name:e.reply_name,formType:e.formType,newsId:e.newsId,comment_id:e.comment.id,addReply:e.addReply,updateReply:e.updateReply,deleteReply:e.deleteReply,isFetching:e.isFetching},n)}))]})]})},pe=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(m.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={showReply:[]},e.onToggleReply=function(t){e.setState({showReply:e.state.showReply.some((function(e){return e===t}))?e.state.showReply.filter((function(e){return e!==t})):[].concat(Object(ce.a)(e.state.showReply),[t])})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)(he,Object(d.a)({showReply:this.state.showReply,onToggleReply:this.onToggleReply},this.props))}}]),n}(a.a.Component),be={updateComment:function(e,t,n){return function(s){s(ee()),I(e,n).then((function(e){200===e.status&&w(t).then((function(e){s(Y(e)),s(te())}))}))}},deleteComment:function(e,t){return function(n){n(ee()),T(e).then((function(e){200===e.status&&w(t).then((function(e){n(Y(e)),n(te())}))}))}},addReply:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(r){r(ee()),R(e,t,s).then((function(e){200===e.status&&w(n).then((function(e){r(Y(e)),r(te())}))}))}},updateReply:function(e,t,n){return function(s){s(ee()),k(e,t).then((function(e){200===e.status&&w(n).then((function(e){s(Y(e)),s(te())}))}))}},deleteReply:function(e,t){return function(n){n(ee()),S(e).then((function(e){200===e.status&&w(t).then((function(e){n(Y(e)),n(te())}))}))}}},fe=Object(x.d)(Object(_.b)((function(e){return{isFetching:e.news.IsFetching}}),be))(pe),ge=function(e){if(!e.news.news)return Object(s.jsx)(g,{});return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("section",{className:"section_news",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(p,{news:e.news.news}),Object(s.jsx)("div",{className:"count_comments",children:function(e){if(e%100>=11&&e%100<=19)return e+" \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432";switch(e%10){case 1:return e+" \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439";case 2:case 3:case 4:return e+" \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f";default:return e+" \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"}}(e.news.comments.length)}),e.news.username&&Object(s.jsx)(ae,{newsId:e.newsId}),e.news.comments.map((function(t,n){return Object(s.jsx)(fe,{isStaff:e.news.isStaff,user:e.news.username,comment:t,formType:e.news.formType,id:e.news.id,message:e.news.message,showForm:e.showForm,hideForm:e.hideForm,onChangeMessage:e.onChangeMessage,reply_name:e.news.reply_name,newsId:e.newsId},n)}))]})})})},Oe=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.setNews(this.props.match.params.id)}},{key:"render",value:function(){return Object(s.jsx)(ge,Object(d.a)({newsId:this.props.match.params.id},this.props))}}]),n}(a.a.Component),ye={setNews:function(e){return function(t){t(Z()),w(e).then((function(e){t(Y(e)),t(Z())}))}},showForm:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{type:$,formType:e,id:t,message:n,reply_name:s}},hideForm:function(){return{type:z}},onChangeMessage:function(e){return{type:K,message:e}}},xe=Object(x.d)(Object(_.b)((function(e){return{news:e.news}}),ye))(Oe),_e=(n(80),n(81),n(82),function(e){var t=a.a.createRef(),n=e.user.split(" ")[1]+" "+e.user.split(" ")[0][0],r=e.user.split(" ")[1],c=e.first_group.length<e.tournament.first_group||e.second_group.length<e.tournament.second_group||e.third_group.length<e.tournament.third_group;return e.players.some((function(t){return t.name===e.user|t.name===n|t.name===r}))?e.onlineRegistrationIsFetching?Object(s.jsx)("div",{className:"tournament_form",children:Object(s.jsx)(O,{})}):Object(s.jsx)("div",{className:"tournament_form",children:Object(s.jsx)("button",{onClick:function(){return e.deletePlayer(e.id)},name:"cancel",className:"submit",disabled:e.onlineRegistrationIsFetching,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e"})}):e.onlineRegistrationIsFetching?Object(s.jsx)("div",{className:"tournament_form",children:Object(s.jsx)(O,{})}):c&&Object(s.jsxs)("div",{className:"tournament_form",children:[Object(s.jsxs)("select",{ref:t,name:"group",className:"form-control",children:[e.first_group.length<e.tournament.first_group&&Object(s.jsx)("option",{value:"1",children:"1 \u0433\u0440\u0443\u043f\u043f\u0430"}),e.second_group.length<e.tournament.second_group&&Object(s.jsx)("option",{value:"2",children:"2 \u0433\u0440\u0443\u043f\u043f\u0430"}),e.third_group.length<e.tournament.third_group&&Object(s.jsx)("option",{value:"3",children:"3 \u0433\u0440\u0443\u043f\u043f\u0430"})]}),Object(s.jsx)("button",{onClick:function(){e.addPlayer(e.id,t.current.value)},name:"registration",className:"submit",disabled:e.onlineRegistrationIsFetching,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})}),ve=function(e){var t=e.players.filter((function(e){return 1===e.group})),n=e.players.filter((function(e){return 2===e.group})),r=e.players.filter((function(e){return 3===e.group}));return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"tournament_registration_tables",children:[Object(s.jsxs)("div",{className:"tournament_registration_table",children:[Object(s.jsx)("p",{children:"\u0413\u0440\u0443\u043f\u043f\u0430 1"}),Object(s.jsxs)("table",{className:"table_col",children:[Object(s.jsx)("colgroup",{children:Object(s.jsx)("col",{style:{background:"#C7DAF0"}})}),Object(s.jsxs)("tbody",{children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"\u041d\u043e\u043c\u0435\u0440"}),Object(s.jsx)("th",{children:"\u0421\u043f\u043e\u0440\u0442\u0441\u043c\u0435\u043d"})]}),t.map((function(e,t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{className:"number1",children:t+1}),Object(s.jsx)("td",{children:e.name})]},t)}))]})]})]}),Object(s.jsxs)("div",{className:"tournament_registration_table",children:[Object(s.jsx)("p",{children:"\u0413\u0440\u0443\u043f\u043f\u0430 2"}),Object(s.jsxs)("table",{className:"table_col",children:[Object(s.jsx)("colgroup",{children:Object(s.jsx)("col",{style:{background:"#C7DAF0"}})}),Object(s.jsxs)("tbody",{children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"\u041d\u043e\u043c\u0435\u0440"}),Object(s.jsx)("th",{children:"\u0421\u043f\u043e\u0440\u0442\u0441\u043c\u0435\u043d"})]}),n.map((function(e,t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{className:"number1",children:t+1}),Object(s.jsx)("td",{children:e.name})]},t)}))]})]})]}),Object(s.jsxs)("div",{className:"tournament_registration_table",children:[Object(s.jsx)("p",{children:"\u0413\u0440\u0443\u043f\u043f\u0430 3"}),Object(s.jsxs)("table",{className:"table_col",children:[Object(s.jsx)("colgroup",{children:Object(s.jsx)("col",{style:{background:"#C7DAF0"}})}),Object(s.jsxs)("tbody",{children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"\u041d\u043e\u043c\u0435\u0440"}),Object(s.jsx)("th",{children:"\u0421\u043f\u043e\u0440\u0442\u0441\u043c\u0435\u043d"})]}),r.map((function(e,t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{className:"number1",children:t+1}),Object(s.jsx)("td",{children:e.name})]},t)}))]})]})]})]}),e.user&&Object(s.jsx)(_e,{players:e.players,user:e.user,onlineRegistrationIsFetching:e.onlineRegistrationIsFetching,isFetching:e.isFetching,first_group:t,second_group:n,third_group:r,id:e.id,addPlayer:e.addPlayer,deletePlayer:e.deletePlayer,tournament:e.tournament})]})},Ce="SET_TOURNAMENT",Fe="TOGGLE_LOADING",we="START_IS_FETCHING",Ne="END_IS_FETCHING",Ie="START_ADD_COMMENT_IS_FETCHING",Te="END_ADD_COMMENT_IS_FETCHING",Re="START_ONLINE_REGISTRATION_IS_FETCHING",ke="END_ONLINE_REGISTRATION_IS_FETCHING",Se="SHOW_FORM",Me="HIDE_FORM",Ee="ON_CHANGE_MESSAGE",Ae={username:"",isStaff:!1,tournament:null,onlineRegistration:[],comments:[],reply_name:"",message:"",formType:"",id:null,isLoading:!1,IsFetching:!1,addCommentIsFetching:!1,onlineRegistrationIsFetching:!1},De=function(e){return{type:Ce,data:e}},Be=function(){return{type:Fe}},He=function(){return{type:we}},Ge=function(){return{type:Ne}},Le=function(){return{type:Re}},Pe=function(){return{type:ke}},Xe=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)(ve,Object(d.a)({},this.props))}}]),n}(a.a.Component),qe={addPlayer:function(e,t){return function(n){n(Le()),E(e,t).then((function(t){M(e).then((function(e){n(De(e)),n(Pe())}))}))}},deletePlayer:function(e){return function(t){t(Le()),A(e).then((function(n){M(e).then((function(e){t(De(e)),t(Pe())}))}))}}},We=Object(x.d)(Object(_.b)((function(e){return{user:e.tournament.username,players:e.tournament.onlineRegistration,isFetching:e.tournament.IsFetching,onlineRegistrationIsFetching:e.tournament.onlineRegistrationIsFetching,tournament:e.tournament.tournament}}),qe))(Xe),Je=function(e){var t=e.tournament.tournament.status_registrations||e.tournament.onlineRegistration.length>0;return Object(s.jsx)("div",{className:"block_tournament_registration",children:Object(s.jsxs)("div",{className:"tournament_registration",children:[e.tournament.tournament.description&&Object(s.jsxs)("div",{className:"tournament_description",children:[Object(s.jsx)("h3",{children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0442\u0443\u0440\u043d\u0438\u0440\u0435"}),Object(s.jsx)("p",{children:e.tournament.tournament.description})]}),Object(s.jsxs)("div",{className:"tournament_pattern",children:[Object(s.jsxs)("h3",{children:["\u041d\u043e\u043c\u0435\u0440 \u0441\u043b\u043e\u0442\u0430 - ",e.tournament.tournament.pattern]}),Object(s.jsx)("a",{className:"pattern_link",href:e.tournament.tournament.img,target:"_blank",children:Object(s.jsx)("img",{src:e.tournament.tournament.img,alt:"pattern of oil"})})]}),e.tournament.tournament.regulations&&Object(s.jsx)("div",{className:"tournament_regulations",children:Object(s.jsx)("a",{target:"_blank",href:e.tournament.tournament.regulations,children:"\u0420\u0435\u0433\u043b\u0430\u043c\u0435\u043d\u0442"})}),t&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"tournament_registrations_tittle",children:Object(s.jsx)("h3",{children:"\u041e\u043d\u043b\u0430\u0439\u043d \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0430 \u0442\u0443\u0440\u043d\u0438\u0440"})}),Object(s.jsx)(We,{id:e.id})]}),e.tournament.tournament.results&&Object(s.jsx)("div",{className:"tournament_result",children:Object(s.jsx)("a",{target:"_blank",href:e.tournament.tournament.results,children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"})})]})})},Ue=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(m.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={showButtons:!1,message:""},e.onAddComment=function(t,n){e.props.addComment(t,n),e.setState({showButtons:!1,message:""})},e.onChangeMessage=function(t){e.setState({message:t})},e.onShowButtons=function(){e.setState({showButtons:!0})},e.onHideButtons=function(){e.setState({showButtons:!1,message:""})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)(y,Object(d.a)(Object(d.a)({onShowButtons:this.onShowButtons,onChangeMessage:this.onChangeMessage,showButtons:this.state.showButtons,message:this.state.message,onHideButtons:this.onHideButtons},this.props),{},{onAddComment:this.onAddComment}))}}]),n}(a.a.Component),Ve={addComment:function(e,t){return function(n){n({type:Ie}),D(e,t).then((function(t){200===t.status&&M(e).then((function(e){n(De(e)),n({type:Te})}))}))}}},$e=Object(x.d)(Object(_.b)((function(e){return{addCommentIsFetching:e.tournament.addCommentIsFetching}}),Ve))(Ue),ze=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(m.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={showReply:[]},e.onToggleReply=function(t){e.setState({showReply:e.state.showReply.some((function(e){return e===t}))?e.state.showReply.filter((function(e){return e!==t})):[].concat(Object(ce.a)(e.state.showReply),[t])})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)(he,Object(d.a)({showReply:this.state.showReply,onToggleReply:this.onToggleReply},this.props))}}]),n}(a.a.Component),Ke={updateComment:function(e,t,n){return function(s){s(He()),B(e,n).then((function(e){200===e.status&&M(t).then((function(e){s(De(e)),s(Ge())}))}))}},deleteComment:function(e,t){return function(n){n(He()),H(e).then((function(e){200===e.status&&M(t).then((function(e){n(De(e)),n(Ge())}))}))}},addReply:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(r){r(He()),G(e,t,s).then((function(e){200===e.status&&M(n).then((function(e){r(De(e)),r(Ge())}))}))}},updateReply:function(e,t,n){return function(s){s(He()),L(e,t).then((function(e){200===e.status&&M(n).then((function(e){s(De(e)),s(Ge())}))}))}},deleteReply:function(e,t){return function(n){n(He()),P(e).then((function(e){200===e.status&&M(t).then((function(e){n(De(e)),n(Ge())}))}))}}},Qe=Object(x.d)(Object(_.b)((function(e){return{isFetching:e.tournament.IsFetching}}),Ke))(ze),Ye=function(e){if(!e.tournament.tournament)return Object(s.jsx)(g,{});return Object(s.jsx)("section",{className:"section_tournament_registration",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(Je,{tournament:e.tournament,addPlayer:e.addPlayer,deletePlayer:e.deletePlayer,id:e.id}),Object(s.jsx)("div",{className:"count_comments",children:function(e){if(e%100>=11&&e%100<=19)return e+" \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432";switch(e%10){case 1:return e+" \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439";case 2:case 3:case 4:return e+" \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f";default:return e+" \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"}}(e.tournament.comments.length)}),e.tournament.username&&Object(s.jsx)($e,{newsId:e.id}),e.tournament.comments.map((function(t,n){return Object(s.jsx)(Qe,{isStaff:e.tournament.isStaff,user:e.tournament.username,comment:t,formType:e.tournament.formType,id:e.tournament.id,message:e.tournament.message,showForm:e.showForm,hideForm:e.hideForm,onChangeMessage:e.onChangeMessage,reply_name:e.tournament.reply_name,newsId:e.id},n)}))]})})},Ze=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getTournament(this.props.match.params.id)}},{key:"render",value:function(){return Object(s.jsx)(Ye,Object(d.a)({id:this.props.match.params.id},this.props))}}]),n}(a.a.Component),et={getTournament:function(e){return function(t){t(Be()),M(e).then((function(e){200===e.status&&(t(De(e)),t(Be()))}))}},showForm:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{type:Se,formType:e,id:t,message:n,reply_name:s}},hideForm:function(){return{type:Me}},onChangeMessage:function(e){return{type:Ee,message:e}}},tt=Object(x.d)(Object(_.b)((function(e){return{tournament:e.tournament}}),et))(Ze),nt=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(u.c,{children:[Object(s.jsx)(u.a,{exact:!0,path:"/news/:id/",component:xe}),Object(s.jsx)(u.a,{exact:!0,path:"/tournament/:id/",component:tt})]}),Object(s.jsx)(o,{})]})},st=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))},rt=n(38),at=Object(x.c)({news:ne,tournament:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!e.isLoading});case Ce:return Object(d.a)(Object(d.a)({},e),{},{username:t.data.user,isStaff:t.data.isStaff,tournament:t.data.tournament,onlineRegistration:t.data.online_registrations,comments:t.data.comments});case we:return Object(d.a)(Object(d.a)({},e),{},{IsFetching:!0});case Ne:return Object(d.a)(Object(d.a)({},e),{},{IsFetching:!1,message:"",formType:"",id:null});case Ie:return Object(d.a)(Object(d.a)({},e),{},{addCommentIsFetching:!0});case Te:return Object(d.a)(Object(d.a)({},e),{},{addCommentIsFetching:!1});case Re:return Object(d.a)(Object(d.a)({},e),{},{onlineRegistrationIsFetching:!0});case ke:return Object(d.a)(Object(d.a)({},e),{},{onlineRegistrationIsFetching:!1});case Se:return Object(d.a)(Object(d.a)({},e),{},{formType:t.formType,id:t.id,message:t.message,reply_name:t.reply_name?"@".concat(t.reply_name,","):""});case Me:return Object(d.a)(Object(d.a)({},e),{},{formType:"",id:null,message:"",reply_name:""});case Ee:return Object(d.a)(Object(d.a)({},e),{},{message:e.reply_name?t.message.replace(e.reply_name,"").trimStart():t.message});default:return e}}}),ct=Object(x.e)(at,Object(x.a)(rt.a));window.store=ct;var it=ct,ot=n(23);i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(ot.a,{children:Object(s.jsx)(_.a,{store:it,children:Object(s.jsx)(nt,{})})})}),document.getElementById("root")),st()}},[[84,1,2]]]);
//# sourceMappingURL=main.a88655c8.chunk.js.map